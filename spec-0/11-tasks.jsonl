{"id":"T.meta","t":"meta","s":"Spec11 task ledger reset from false-all-DONE to gap/proof backlog. Keys:id,sev(P0|P1),cy,a,st(OPEN|PART|BLOCK),s,loc,proof. Terse, defect-first, line-grounded."}
{"id":"T.audit","sev":"P0","cy":"CY9","a":"ledger","st":"OPEN","s":"Status fraud: prior ledger marked CY0..CY9 DONE w/o matching code/proofs (ex: GP81 refs missing test file). Enforce task/proof truth before any GO claim.","loc":["spec-0/11-tasks.jsonl","spec-0/11/50-proof-gates.jsonl","test/e2e/spec11-scenario-matrix.test.ts"],"proof":["GP81 path exists","DONE only after executable AC"]}
{"id":"T1","sev":"P0","cy":"CY1","a":"run-start-ux","st":"OPEN","s":"S03 lattice UX incomplete: ChatInput only surfaces 409; 400/404/500 collapse to console log. Violates explicit error surface law + expert copy.","loc":["src/components/chat-input.tsx"],"proof":["ui/e2e: malformed->400 banner","missing recipe->404 banner","500->deterministic generic banner"]}
{"id":"T2","sev":"P0","cy":"CY6","a":"budget-ux","st":"OPEN","s":"Budget editor claim false: no merged-effective preview vs recipe limits, no inline range errors, no server-policy echo. 'Merged Effective' badge is decorative only.","loc":["src/components/chat-input.tsx","src/components/budget-editor.tsx"],"proof":["UI shows req∩recipe preview","invalid ranges blocked + visible reason"]}
{"id":"T3","sev":"P0","cy":"CY1","a":"run-console-tabs","st":"OPEN","s":"Run Console context tabs drift: spec wants Gate/Artifacts/Proof/Ops/Repro; impl has timeline/gate/artifacts/patches/proof. Ops/Repro not first-class tabs; gate tab mounts full timeline view.","loc":["src/components/timeline-container.tsx","src/components/timeline-live.tsx"],"proof":["tab list matches spec","gate tab renders gate-focused panel only"]}
{"id":"T4","sev":"P0","cy":"CY2","a":"hitl-inbox-linking","st":"OPEN","s":"HITL Inbox deep-link contract broken: emits `?tab=gate&gate=...` but app ignores `gate`; no selected-gate focus/scroll on landing.","loc":["src/components/hitl-inbox-board.tsx","app/page.tsx","src/components/timeline-container.tsx","src/components/timeline-live.tsx"],"proof":["click inbox row opens gate tab + target gate focused"]}
{"id":"T5","sev":"P1","cy":"CY1","a":"deep-link-tabs","st":"OPEN","s":"`tab=proof` deep-link silently downgraded to timeline because `TAB_VALUES` omits `proof`. Breaks Demo/Proof links.","loc":["src/components/timeline-container.tsx"],"proof":["`/?wid=...&tab=proof` opens Proof tab"]}
{"id":"T6","sev":"P1","cy":"CY0","a":"layout-mobile","st":"OPEN","s":"Home layout hardcodes 2-col grid min widths (`320+420`); mobile spec layout not implemented, overflow likely on narrow screens.","loc":["app/page.tsx"],"proof":["<640px render no horizontal overflow","mobile order matches spec §6.4/6.11"]}
{"id":"T7","sev":"P0","cy":"CY3","a":"ops-mutation-ux","st":"OPEN","s":"OpsActionDrawer not fail-closed enough: actor can be blank, no legal-state preview, no typed lattice mapping, stale form state can leak across runs/actions.","loc":["src/components/ops-action-drawer.tsx","src/components/ops-board.tsx","src/components/timeline-live.tsx"],"proof":["blank actor blocked client-side","illegal op disabled w/reason chip before POST","form resets on wid/action change"]}
{"id":"T8","sev":"P1","cy":"CY3","a":"ops-board-contracts","st":"OPEN","s":"OpsBoard fetches unasserted JSON (list/detail/steps/queue-depth); silent parse drift risk + weak error UI. Violates Ajv boundary posture on UI seam.","loc":["src/components/ops-board.tsx"],"proof":["client asserts all ops payloads","bad payload shows parse error state not console-only"]}
{"id":"T9","sev":"P1","cy":"CY3","a":"queue-depth-ux","st":"OPEN","s":"Queue-depth panel missing backlog aging metrics (`newest`, relative age) promised by CY3/WP3.04; shows only count + oldest ISO.","loc":["src/components/ops-board.tsx"],"proof":["oldest/newest abs+rel visible per card"]}
{"id":"T10","sev":"P0","cy":"CY4","a":"proof-card-abi","st":"OPEN","s":"ProofCard ABI drifts from spec/HTN: missing `id`, no structured `evidence`, no `sourceTs`, enum lacks `k6|policy|artifact(dbos case policy)` and uses uppercase sources only.","loc":["src/contracts/ui/proof-card.schema.ts","src/contracts/index.ts"],"proof":["contract matches spec11 panel semantics + provenance taxonomy"]}
{"id":"T11","sev":"P0","cy":"CY4","a":"proof-projection","st":"OPEN","s":"Proof card generation is heuristic/demo-grade: flat cards only, no tab model, no x1/policy/repro evidence semantics, and `nowMs()` fallback makes output non-replay-stable.","loc":["src/server/run-view.ts","src/server/ui-api.ts"],"proof":["same DB snapshot => byte-stable proofs","tabs API/SQL(app)/SQL(dbos)/x1/Policy/Repro derive from durable sources"]}
{"id":"T12","sev":"P0","cy":"CY4","a":"proof-panel-ui","st":"OPEN","s":"ProofPanel bypasses contract assert, filters tabs by `claim` substring heuristics, `rawRef` badge not clickable, and `Repro/Triage` use generic `alert`/copy drift.","loc":["src/components/proof-panel.tsx"],"proof":["assertProofCard on fetch","rawRef opens deep link","no `alert` paths","tab population driven by typed source/category"]}
{"id":"T13","sev":"P1","cy":"CY4","a":"triage-order","st":"OPEN","s":"Triage checklist/order drifts from spec (`/healthz` first, app SQL, dbos, logs last). Current list is custom and misses oracle-order discipline.","loc":["src/components/proof-panel.tsx","spec-0/11-spec.md"],"proof":["UI checklist matches spec order exactly"]}
{"id":"T14","sev":"P1","cy":"CY4","a":"repro-route-errors","st":"OPEN","s":"`/api/runs/:wid/repro` 404 mapping is substring-based (`message.includes('not found')`); brittle to message changes, can misclassify errors.","loc":["app/api/runs/[wid]/repro/route.ts","src/server/ui-api.ts","src/lib/repro.ts"],"proof":["typed not-found error => 404; other errors => 500 deterministically"]}
{"id":"T15","sev":"P1","cy":"CY5","a":"claim-scope-contract","st":"OPEN","s":"ClaimScope UI contract polluted with lane enums `batch|interactive`; claim-scope and lane taxonomy are distinct laws. Risk: semantic drift in badges/copy/tests.","loc":["src/contracts/ui/claim-scope.schema.ts"],"proof":["claim-scope enum closed to signoff|demo|live-smoke only"]}
{"id":"T16","sev":"P1","cy":"CY5","a":"topology-diagnostics","st":"PART","s":"TopologyDiagnosticCard only infers stall/version mismatch from run header + step count; no worker health probe/parity source labels despite CY5 diagnostic claim.","loc":["src/components/topology-diagnostic-card.tsx"],"proof":["diagnostic reason source-tagged + worker health/parity evidence shown"]}
{"id":"T17","sev":"P0","cy":"CY6","a":"throughput-contract","st":"OPEN","s":"Throughput API contract under-spec'd vs S10/S11: lacks queue-depth/rate/dedupe/policy provenance fields; no per-metric source/rawRef so board claims are not auditable.","loc":["src/contracts/ops/throughput.schema.ts","src/server/ops-api.ts"],"proof":["every visible metric carries source+rawRef","S10/S11 sections all represented in contract"]}
{"id":"T18","sev":"P0","cy":"CY6","a":"throughput-k6","st":"OPEN","s":"k6 ingestion is heuristic/unstable: `threshold` reads first check path, `pass` reads checks>0, `ts=nowMs()`. Can false-pass/false-fail and breaks deterministic evidence.","loc":["src/server/ops-api.ts","scripts/perf-k6-run.sh","perf/k6/common.js"],"proof":["parse actual summary thresholds","derive end ts from artifact/file mtime or summary metadata","golden tests bad/good summaries"]}
{"id":"T19","sev":"P1","cy":"CY6","a":"throughput-ui","st":"OPEN","s":"ThroughputBoard fetches raw JSON w/o assert/error state; source snippets are illustrative and can diverge from backend queries; many cards lack per-card provenance chips.","loc":["src/components/throughput-board.tsx"],"proof":["assertThroughputResponse client-side","parse/error/empty states explicit","visible metrics each show real source/rawRef"]}
{"id":"T20","sev":"P1","cy":"CY6","a":"throughput-coverage","st":"OPEN","s":"Spec S10 board expects fairness/rate/priority/dedupe collapse/queue-depth heat + policy flags; current board ships fairness/priority/budgets/templates/k6 only.","loc":["src/components/throughput-board.tsx","spec-0/11-spec.md"],"proof":["missing S10 panels added or spec/task scope reduced explicitly"]}
{"id":"T21","sev":"P1","cy":"CY7","a":"recipe-registry-ux","st":"OPEN","s":"Recipe Registry UI is partial: Import/Export buttons inert, payloads unasserted, run-start uses empty formData placeholder + `alert` on failure.","loc":["src/components/recipe-registry-board.tsx"],"proof":["import/export wired","recipe form schema-driven start","no alert path","contract asserts on list/version payloads"]}
{"id":"T22","sev":"P1","cy":"CY7","a":"patch-review-ux","st":"PART","s":"PatchReviewPanel omits `diffHash`, guard semantics (`apply/rollback guard`), and rollback timeline detail; status badge alone overclaims reversible proof UX.","loc":["src/components/patch-review-panel.tsx","src/server/ui-api.ts","src/db/patchHistoryRepo.ts"],"proof":["pre/post/diff + guard state + applied/rolledBack times rendered per patch index"]}
{"id":"T23","sev":"P1","cy":"CY7","a":"patch-route-contract","st":"OPEN","s":"Patch history route returns unasserted payload + generic 500/404 strings (no lattice mapper). Contract parity/hard-fail missing.","loc":["app/api/runs/[wid]/steps/[stepId]/patches/route.ts"],"proof":["strict response contract + deterministic error lattice"]}
{"id":"T24","sev":"P0","cy":"CY8","a":"signoff-sql","st":"PART","s":"Code fixed: divergence trigger now two-phase appPool->sysPool query and DBOS key `workflow_uuid`; removes illegal cross-db join. Proof gap remains: add real split-pool integration test (current coverage is unit/mock SQL-call assertions).","loc":["src/server/signoff-api.ts","test/unit/spec11-signoff-model.test.ts"],"proof":["unit:test/unit/spec11-signoff-model.test.ts ('queries DBOS divergence via sysPool using workflow_uuid')","integration test w/separate app+sys pools catches bad join/col"]}
{"id":"T25","sev":"P0","cy":"CY8","a":"signoff-trigger-semantics","st":"PART","s":"Fixed semantic drift: X1 trigger no longer scans `app.run_steps` retries; now checks side-effect/x1 surfaces (`app.mock_receipts.seen_count>1`, duplicate `human_interactions` x1 tuple) with evidence refs.","loc":["src/server/signoff-api.ts","AGENTS.md","test/unit/spec11-signoff-model.test.ts"],"proof":["unit:test/unit/spec11-signoff-model.test.ts ('uses semantic x1 checks instead of raw run_steps retry counts')","trigger checks semantic duplicate side-effects/x1 keys, not raw retry count"]}
{"id":"T26","sev":"P0","cy":"CY8","a":"signoff-false-green","st":"PART","s":"Fixed placeholder: `trigger-false-green` now real predicate keyed off mandatory GO tiles lacking evidence refs; emits NO_GO + tile pointers and blocks overall verdict.","loc":["src/server/signoff-api.ts","test/unit/spec11-signoff-model.test.ts"],"proof":["unit:test/unit/spec11-signoff-model.test.ts ('fails closed when mandatory GO tiles omit evidence refs and activates false-green trigger')","real predicate + tests (active=>NO_GO, inactive=>GO)"]}
{"id":"T27","sev":"P0","cy":"CY8","a":"signoff-evidence","st":"PART","s":"Fail-closed evidence normalization added: loaded signoff tiles missing `evidenceRefs` get file pointer injected + mandatory GO tiles downgraded NO_GO; UI fallback copy no longer claims deterministic pass on empty evidence.","loc":["src/server/signoff-api.ts","src/components/signoff-board.tsx","test/unit/spec11-signoff-model.test.ts"],"proof":["mandatory tiles require non-empty evidenceRefs or explicit reason+raw link","unit:test/unit/spec11-signoff-model.test.ts ('fails closed when mandatory GO tiles omit evidence refs and activates false-green trigger')","GO impossible with empty mandatory evidence"]}
{"id":"T28","sev":"P1","cy":"CY8","a":"signoff-freshness","st":"OPEN","s":"Signoff service trusts `.tmp/signoff/*.json` blindly; no freshness/same-tree/appVersion binding. Stale artifacts can leak across branches/sessions.","loc":["src/server/signoff-api.ts"],"proof":["tile metadata includes commit/tree/appVersion/ts bounds; stale/mismatch=>NO_GO"]}
{"id":"T29","sev":"P1","cy":"CY8","a":"signoff-ui-contract","st":"PART","s":"Fixed signoff client seam: extracted `loadSignoffBoard()` helper that checks HTTP status before parse, asserts `SignoffBoardResponse`, and emits typed parse/http errors; component now consumes seam.","loc":["src/components/signoff-board.tsx","src/lib/signoff-client.ts","test/unit/signoff-client.test.ts"],"proof":["unit:test/unit/signoff-client.test.ts","client asserts board payload + explicit parse/error states"]}
{"id":"T30","sev":"P1","cy":"CY8","a":"signoff-copy","st":"PART","s":"Copy overclaim removed: Signoff footer label now `generated_at (service clock)` instead of deterministic/oracle wording for service-generated `ts`.","loc":["src/components/signoff-board.tsx","src/server/signoff-api.ts"],"proof":["timestamp labeled by source (`generated_at` vs oracle ts) or sourced from durable evidence"]}
{"id":"T31","sev":"P1","cy":"CY8","a":"demo-seq","st":"OPEN","s":"DemoHelper sequence drifts from spec: includes S10/S12, mislabels S02 as HITL Inbox, and doesn't gate step completion on proof availability.","loc":["src/components/demo-helper.tsx","spec-0/11-spec.md"],"proof":["seq = S00,S01,S04,S02,S07,S08,S15 + proof-linked completion checks"]}
{"id":"T32","sev":"P0","cy":"CY9","a":"scenario-matrix-proof","st":"OPEN","s":"`GP81` proof missing: `test/e2e/spec11-scenario-matrix.test.ts` absent. Claimed S00-S15 matrix lock has no referenced test artifact.","loc":["spec-0/11/50-proof-gates.jsonl","test/e2e/spec11-scenario-matrix.test.ts"],"proof":["file exists and runs in GP81"]}
{"id":"T33","sev":"P0","cy":"CY9","a":"scenario-matrix-script","st":"OPEN","s":"`scripts/scenario-matrix.ts` output lacks required `proofRefs`/SQL evidence links; uses `Date.now()`/ad-hoc exec timing; scenario->evidence mapping not encoded.","loc":["scripts/scenario-matrix.ts"],"proof":["json rows include scenario id, pass, proofRefs[]","evidence refs point to SQL/API/artifact ids"]}
{"id":"T34","sev":"P1","cy":"CY9","a":"proof-tests-depth","st":"PART","s":"Depth improved for signoff slice only: signoff model unit now asserts sysPool+`workflow_uuid`, x1 semantic SQL sources, false-green activation/evidence fail-close. Throughput/proof-api semantic gaps remain.","loc":["test/integration/throughput-board.test.ts","test/unit/spec11-signoff-model.test.ts","test/integration/repro-proof-api.test.ts"],"proof":["unit:test/unit/spec11-signoff-model.test.ts","fail-before/pass-after tests for semantics listed in T10-T30"]}
{"id":"T35","sev":"P1","cy":"CY9","a":"policy-provenance","st":"OPEN","s":"`policy-proof-provenance` is syntax-pattern scan (`cards.push` + nonempty string) only; does not verify UI tags, source enum taxonomy, or rawRef/evidence linkage. False confidence risk.","loc":["scripts/policy-proof-provenance.ts"],"proof":["semantic probe validates proof contract + rendered source labels + self-tests"]}
{"id":"T36","sev":"P1","cy":"CY2","a":"hitl-origin-enum","st":"OPEN","s":"Origin enum duplicated in `HitlGateCard` (`ORIGINS`) instead of deriving from contract; schema/UI drift risk on future ABI changes.","loc":["src/components/hitl-gate-card.tsx","src/contracts/hitl/gate-reply.schema.ts"],"proof":["single source enum export used by UI + contract tests"]}
{"id":"T37","sev":"P1","cy":"CY4","a":"client-contract-seams","st":"PART","s":"Signoff board path fixed (typed `loadSignoffBoard` + Ajv assert + explicit HTTP/parse errors). Remaining seam debt still open for `proof|ops|throughput|recipes` boards.","loc":["src/components/proof-panel.tsx","src/components/ops-board.tsx","src/components/throughput-board.tsx","src/components/recipe-registry-board.tsx","src/components/signoff-board.tsx","src/lib/signoff-client.ts"],"proof":["unit:test/unit/signoff-client.test.ts","all board fetchers assert payloads + parse errors explicit"]}
{"id":"T38","sev":"P1","cy":"CY4","a":"proof-route-contract","st":"OPEN","s":"`/api/ops/throughput` route returns unasserted payload unlike queue-depth route; contract parity inconsistency increases silent drift risk.","loc":["app/api/ops/throughput/route.ts","app/api/ops/queue-depth/route.ts"],"proof":["assertThroughputResponse in route + deterministic error mapper"]}
{"id":"T39","sev":"P1","cy":"CY2","a":"run-console-copy","st":"PART","s":"Spec §6.10 hardening incomplete: generic text/alerts remain (`proof repro`, recipe start, some fetch errors), and many times still locale-only (`formatTime`) w/o paired ISO.","loc":["src/components/proof-panel.tsx","src/components/recipe-registry-board.tsx","src/lib/time.ts","src/components/ops-board.tsx"],"proof":["no `alert(` in spec11 surfaces","all operator-critical times show ISO+relative"]}
{"id":"T40","sev":"P0","cy":"CY9","a":"closure","st":"BLOCK","s":"Do not re-mark CY9/WP9.04/WP9.05 DONE until T24-T35 fixed and proofs rerun in one tree. Current spec11 closure claim is unsupported.","loc":["spec-0/11/10-cycles.jsonl","spec-0/11-tasks.jsonl","spec-0/11/50-proof-gates.jsonl"],"proof":["quick/check/full+deps+crashdemo+scenario-matrix+signoff evidence all green and linked"]}
{"id":"T41","sev":"P0","cy":"CY9","a":"scheduled-ops-id","st":"DONE","s":"ScheduledOpsWorkflow.tick uses manual `workflowId` instead of `DBOS.workflowId`; causes 'Terminal Divergence' in Signoff Board because app.runs IDs don't match dbos.workflow_status IDs.","loc":["src/workflow/dbos/scheduledOpsWorkflow.ts","src/server/signoff-api.ts"],"proof":["trigger-divergence GO for scheduled workflows"]}
{"id":"T42","sev":"P0","cy":"CY1","a":"chat-input-goal-hash","st":"DONE","s":"`compile-default@v1` recipe `intentTmpl` misses `{{formData.goal}}`. Goal typed in ChatInput doesn't change `intent_hash`, causing unexpected 200/idem-replay of unrelated runs.","loc":["fixtures/seed-pack/bundle.v1.json","src/components/chat-input.tsx"],"proof":["changing goal in UI results in different WID"]}
{"id":"T43","sev":"P1","cy":"CY9","a":"tutorial-repro-jq","st":"DONE","s":"Tutorial U39 `jq` command is wrong for `ReproSnapshot` structure; tries to access `.dbos.workflowScope.status` (which is string[]).","loc":["spec-0/11-tutorial.jsonl"],"proof":["tutorial U39 command works as written"]}
{"id":"T44","sev":"P1","cy":"CY7","a":"legacy-recipe-primitives","st":"DONE","s":"Migration 029 adds `primitives: ['Legacy']` to legacy recipes, but `src/recipe/step-library.ts` only allows canonical list. Causes 400 on start with legacy recipes.","loc":["db/migrations/029_patch_legacy_recipes.sql","src/recipe/step-library.ts"],"proof":["legacy recipes with 'Legacy' primitive pass validation or migration fixed"]}
